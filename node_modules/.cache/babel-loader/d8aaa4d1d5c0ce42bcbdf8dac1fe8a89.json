{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jpgui\\\\OneDrive\\\\Documentos\\\\Web Project\\\\netflix-ott\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, Link, useLocation } from \"react-router-dom\";\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { firebaseConfig } from './firebaseConfig.js';\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  initializeApp(firebaseConfig);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const page = location.pathname === '/login' ? true : false;\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isUserExist, setUserExist] = useState(false);\n  const [isEmailUsed, setIsEmailUsed] = useState(false);\n  const [emailValid, setEmailValid] = useState(true);\n  const [passwordValid, setPasswordValid] = useState(true);\n  const auth = getAuth();\n\n  const validation = (fieldName, value) => {\n    switch (fieldName) {\n      case 'email':\n        return value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n\n      case 'password':\n        return value.length >= 6;\n\n      default:\n        break;\n    }\n  };\n\n  const ctaClickHandler = e => {\n    e.preventDefault();\n\n    if (!validation('email', email) || !validation('password', password)) {\n      setEmailValid(validation('email', email));\n      setPasswordValid(validation('password', password));\n      return;\n    }\n\n    if (page) {\n      signInWithEmailAndPassword(auth, email, password).then(auth => {\n        if (auth) {\n          navigate('/dashboard');\n        }\n      }).catch(error => setUserExist(true)); // user-not-found\n    } else {\n      createUserWithEmailAndPassword(auth, email, password).then(auth => {\n        if (auth) {\n          navigate('/dashboard');\n        }\n      }).catch(error => setIsEmailUsed(true));\n    }\n  };\n\n  useEffect(() => {\n    setUserExist(false);\n    setIsEmailUsed(false);\n  }, [location]);\n\n  const emailOnChangeHandler = e => {\n    setEmail(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"holder\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-white\",\n        children: page ? 'Sign In' : 'Register'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          value: email,\n          onChange: emailOnChangeHandler,\n          type: \"email\",\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), !emailValid && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: \"Email is invalid/blank\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          type: \"password\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), !passwordValid && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: \"Password is invalid/blank\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger btn-block\",\n          onClick: ctaClickHandler,\n          children: page ? 'Sign In' : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), page && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-check\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-check-input\",\n            type: \"checkbox\",\n            value: \"\",\n            id: \"flexCheckDefault\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-check-label text-white\",\n            htmlFor: \"flexCheckDefault\",\n            children: \"Remember Me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), isUserExist && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger\",\n        children: \"User does not exist | Go for Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 26\n      }, this), isEmailUsed && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger\",\n        children: \"Email already in use | Go for Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-form-other\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-signup-now\",\n          children: [page ? 'New to Netflix?' : 'Existing User', \" \\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n            className: \" \",\n            to: page ? '/register' : '/login',\n            children: page ? 'Sign up now' : 'Sign In'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shadow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"concord-img vlv-creative\",\n      src: \"https://assets.nflxext.com/ffe/siteui/vlv3/6e32b96a-d4be-4e44-a19b-1bd2d2279b51/ee068656-14b9-4821-89b4-53b4937d9f1c/IN-en-20220516-popsignuptwoweeks-perspective_alpha_website_small.jpg\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"mpRchTpf25mNYqkb8L7kxDhBLpo=\", false, function () {\n  return [useNavigate, useLocation];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useNavigate","Link","useLocation","initializeApp","getAuth","signInWithEmailAndPassword","createUserWithEmailAndPassword","firebaseConfig","useEffect","useState","Login","navigate","location","page","pathname","email","setEmail","password","setPassword","isUserExist","setUserExist","isEmailUsed","setIsEmailUsed","emailValid","setEmailValid","passwordValid","setPasswordValid","auth","validation","fieldName","value","match","length","ctaClickHandler","e","preventDefault","then","catch","error","emailOnChangeHandler","target"],"sources":["C:/Users/jpgui/OneDrive/Documentos/Web Project/netflix-ott/src/components/Login.js"],"sourcesContent":["import { useNavigate, Link, useLocation } from \"react-router-dom\";\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth, \r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword\r\n} from \"firebase/auth\";\r\nimport { firebaseConfig } from './firebaseConfig.js';\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst Login = () => {\r\n  initializeApp(firebaseConfig);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const page = location.pathname === '/login' ? true:false;\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [ isUserExist, setUserExist ] = useState(false);\r\n  const [ isEmailUsed, setIsEmailUsed] = useState(false);\r\n  const [emailValid, setEmailValid] = useState(true);\r\n  const [passwordValid, setPasswordValid] = useState(true);\r\n\r\n  const auth = getAuth();\r\n\r\n  const validation = (fieldName, value) => {\r\n    switch(fieldName) {\r\n      case 'email':\r\n        return value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n      case 'password':\r\n        return value.length >= 6;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const ctaClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if(!validation('email', email) || !validation('password', password)){\r\n      setEmailValid(validation('email', email));\r\n      setPasswordValid(validation('password', password));\r\n      return;\r\n    }\r\n\r\n    if(page){\r\n      signInWithEmailAndPassword(auth, email, password)\r\n      .then( auth => {\r\n        if(auth){\r\n          navigate('/dashboard');\r\n        }\r\n      })\r\n      .catch( error => setUserExist(true));\r\n      // user-not-found\r\n    }else{\r\n      createUserWithEmailAndPassword(auth, email, password)\r\n      .then(\r\n        auth => {\r\n          if(auth){\r\n            navigate('/dashboard');\r\n          }\r\n        })\r\n        .catch( error => setIsEmailUsed(true));\r\n    }\r\n  };\r\n\r\n  useEffect(()=>{\r\n    setUserExist(false);\r\n    setIsEmailUsed(false);\r\n  },[location]);\r\n  const emailOnChangeHandler = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  return(\r\n    <div className=\"login\">\r\n      <div className=\"holder\">\r\n        <h1 className=\"text-white\">{ page ? 'Sign In' : 'Register'}</h1>\r\n        <br/>\r\n        <form>\r\n          <input \r\n            className=\"form-control\" \r\n            value={email} \r\n            onChange={emailOnChangeHandler} \r\n            type=\"email\" \r\n            placeholder=\"Email\"/>\r\n          { !emailValid && <p className=\"text-danger\">Email is invalid/blank</p> }\r\n          <input \r\n            className=\"form-control\"\r\n            value={password} \r\n            onChange={(e)=>setPassword(e.target.value)} \r\n            type=\"password\" \r\n            placeholder=\"Password\"/>\r\n          { !passwordValid && <p className=\"text-danger\">Password is invalid/blank</p>}\r\n          <button className=\"btn btn-danger btn-block\" onClick={ctaClickHandler}>\r\n            { page ? 'Sign In' : 'Register'}\r\n          </button>\r\n          <br/>\r\n          {\r\n            page && <div className=\"form-check\">\r\n            <input className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"flexCheckDefault\" />\r\n            <label className=\"form-check-label text-white\" htmlFor=\"flexCheckDefault\">\r\n              Remember Me\r\n            </label>\r\n          </div>\r\n          }\r\n        </form>\r\n        <br/>\r\n        <br/>\r\n        { isUserExist && <p className=\"text-danger\">User does not exist | Go for Signup</p> }\r\n        { isEmailUsed && <p className=\"text-danger\">Email already in use | Go for Sign In</p> }\r\n        <div className=\"login-form-other\">\r\n          <div className=\"login-signup-now\">\r\n          { page ? 'New to Netflix?' : 'Existing User'} &nbsp;\r\n            <Link className=\" \" to={page ? '/register' : '/login'}>\r\n              { page ? 'Sign up now' : 'Sign In'}\r\n            </Link>.\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"shadow\"></div>\r\n      <img className=\"concord-img vlv-creative\" src=\"https://assets.nflxext.com/ffe/siteui/vlv3/6e32b96a-d4be-4e44-a19b-1bd2d2279b51/ee068656-14b9-4821-89b4-53b4937d9f1c/IN-en-20220516-popsignuptwoweeks-perspective_alpha_website_small.jpg\" alt=\"\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}